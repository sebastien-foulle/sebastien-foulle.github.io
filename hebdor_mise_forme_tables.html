<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>  Mise en forme des tables  </title>

<script src="site_libs/header-attrs-2.7/header-attrs.js"></script>
<script src="site_libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<script src="site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="site_libs/datatables-binding-0.17/datatables.js"></script>
<link href="site_libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="site_libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="site_libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="site_libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<script src="site_libs/core-js-2.5.3/shim.min.js"></script>
<script src="site_libs/react-17.0.0/react.min.js"></script>
<script src="site_libs/react-17.0.0/react-dom.min.js"></script>
<script src="site_libs/reactwidget-1.0.0/react-tools.js"></script>
<script src="site_libs/reactable-binding-0.2.3/reactable.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="site_libs/dt-ext-buttons-1.10.20/css/buttons.dataTables.min.css" rel="stylesheet" />
<script src="site_libs/dt-ext-buttons-1.10.20/js/dataTables.buttons.min.js"></script>
<script src="site_libs/dt-ext-buttons-1.10.20/js/buttons.flash.min.js"></script>
<script src="site_libs/dt-ext-buttons-1.10.20/js/buttons.html5.min.js"></script>
<script src="site_libs/dt-ext-buttons-1.10.20/js/buttons.colVis.min.js"></script>
<script src="site_libs/dt-ext-buttons-1.10.20/js/buttons.print.min.js"></script>
<link href="site_libs/jquery-sparkline-2.1.2/jquery.sparkline.css" rel="stylesheet" />
<script src="site_libs/jquery-sparkline-2.1.2/jquery.sparkline.js"></script>
<script src="site_libs/sparkline-binding-2.0/sparkline.js"></script>
<link href="site_libs/dt-ext-colreorder-1.10.20/css/colReorder.dataTables.min.css" rel="stylesheet" />
<script src="site_libs/dt-ext-colreorder-1.10.20/js/dataTables.colReorder.min.js"></script>
<link href="site_libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet" />
<script src="site_libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>
<link href="site_libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet" />
<script src="site_libs/selectize-0.12.0/selectize.min.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

/* A workaround for https://github.com/jgm/pandoc/issues/4278 */
a.sourceLine {
  pointer-events: auto;
}

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<link rel="stylesheet" href="hebdor_mise_forme_tables_files/style.css" type="text/css" />





</head>

<body>




<section class="page-header">
<h1 class="title toc-ignore project-name"> <svg style="height:60px;fill:lightblue;" viewBox="0 0 581 512"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> Mise en forme des tables <br></h1>
</section>


<div id="TOC" class="toc">
<div class="toc-box">
<h2 id="toc-title" class="toc-title">Table des matieres</h2>
<ul>
<li><a href="#intro">Introduction</a></li>
<li><a href="#mises-en-forme-simples-avec">Mises en forme simples avec</a>
<ul>
<li><a href="#kable">kable</a></li>
<li><a href="#dt">DT</a></li>
<li><a href="#reactable">reactable</a></li>
</ul></li>
<li><a href="#mises-en-forme-complexes-avec">Mises en forme complexes avec</a>
<ul>
<li><a href="#kable-et-kableextra">kable et kableExtra</a></li>
<li><a href="#dt-1">DT</a></li>
<li><a href="#reactable-1">reactable</a></li>
</ul></li>
<li><a href="#lignes-regroupees-agregees-avec">Lignes regroupees / agregees avec</a>
<ul>
<li><a href="#reactable-2">reactable</a></li>
<li><a href="#reactable-et-le-package-sparkline">reactable et le package <em>sparkline</em></a></li>
</ul></li>
<li><a href="#mises-en-forme-en-couleur-le-script-avec">Mises en forme en couleur : le script avec</a>
<ul>
<li><a href="#formattable">formattable</a></li>
<li><a href="#dt-2">DT</a></li>
<li><a href="#reactable-3">reactable</a></li>
</ul></li>
<li><a href="#mise-en-forme-en-couleur-les-resultats">Mise en forme en couleur : les resultats</a></li>
</ul>
</div>
</div>

<section class="main-content">
<div id="intro" class="section level1">
<h1>Introduction</h1>
<p>Plusieurs packages permettent de mettre en forme les tables, dont <em>kable</em>, <em>formattable</em>, <em>DT</em> et <em>reactable</em>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;dplyr&quot;</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;knitr&quot;</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;kableExtra&quot;</span>)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;DT&quot;</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;formattable&quot;</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;reactable&quot;</span>)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;htmltools&quot;</span>)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;sparkline&quot;</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co"># une table avec des rownames et pas mal de colonnes</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>mtcars2 <span class="ot">=</span> mtcars <span class="sc">%&gt;%</span> tibble<span class="sc">::</span><span class="fu">rownames_to_column</span>(<span class="at">var =</span> <span class="st">&quot;modeles&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">separate</span>(modeles, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">&quot;marque&quot;</span>, <span class="st">&quot;modeles&quot;</span>), <span class="at">sep =</span> <span class="st">&quot; &quot;</span>, <span class="at">extra =</span> <span class="st">&quot;merge&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(modeles)) <span class="sc">%&gt;%</span> tibble<span class="sc">::</span><span class="fu">column_to_rownames</span>(<span class="at">var =</span> <span class="st">&quot;modeles&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(marque, mpg, cyl, disp, hp, drat)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="co"># une table a 3 lignes</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>lignes_gardees <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">131</span>, <span class="dv">140</span>)</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>ma_table <span class="ot">=</span> <span class="fu">cbind</span>(iris[lignes_gardees,<span class="sc">-</span><span class="dv">5</span>]<span class="sc">-</span><span class="fl">1.5</span>, <span class="at">Species =</span> iris[lignes_gardees, <span class="st">&quot;Species&quot;</span>])</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>ma_table<span class="sc">$</span>Petal.Width <span class="ot">=</span> <span class="fu">abs</span>(ma_table<span class="sc">$</span>Petal.Width)</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(ma_table) <span class="ot">=</span> <span class="cn">NULL</span></span></code></pre></div>
</div>
<div id="mises-en-forme-simples-avec" class="section level1">
<h1>Mises en forme simples avec</h1>
<div id="kable" class="section level3">
<h3>kable</h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(ma_table)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:right;">
Sepal.Length
</th>
<th style="text-align:right;">
Sepal.Width
</th>
<th style="text-align:right;">
Petal.Length
</th>
<th style="text-align:right;">
Petal.Width
</th>
<th style="text-align:left;">
Species
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
4.3
</td>
<td style="text-align:right;">
2.5
</td>
<td style="text-align:right;">
-0.3
</td>
<td style="text-align:right;">
1.3
</td>
<td style="text-align:left;">
setosa
</td>
</tr>
<tr>
<td style="text-align:right;">
5.9
</td>
<td style="text-align:right;">
1.3
</td>
<td style="text-align:right;">
4.6
</td>
<td style="text-align:right;">
0.4
</td>
<td style="text-align:left;">
virginica
</td>
</tr>
<tr>
<td style="text-align:right;">
5.4
</td>
<td style="text-align:right;">
1.6
</td>
<td style="text-align:right;">
3.9
</td>
<td style="text-align:right;">
0.6
</td>
<td style="text-align:left;">
virginica
</td>
</tr>
</tbody>
</table>
</div>
<div id="dt" class="section level3">
<h3>DT</h3>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(ma_table)</span></code></pre></div>
<div id="htmlwidget-c0b0d94206d63f7a9fcb" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-c0b0d94206d63f7a9fcb">{"x":{"filter":"none","data":[["1","2","3"],[4.3,5.9,5.4],[2.5,1.3,1.6],[-0.3,4.6,3.9],[1.3,0.4,0.6],["setosa","virginica","virginica"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Sepal.Length<\/th>\n      <th>Sepal.Width<\/th>\n      <th>Petal.Length<\/th>\n      <th>Petal.Width<\/th>\n      <th>Species<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="reactable" class="section level3">
<h3>reactable</h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">reactable</span>(ma_table)</span></code></pre></div>
<div id="htmlwidget-07e652f10281d6c80eb7" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-07e652f10281d6c80eb7">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"Sepal.Length":[4.3,5.9,5.4],"Sepal.Width":[2.5,1.3,1.6],"Petal.Length":[-0.3,4.6,3.9],"Petal.Width":[1.3,0.4,0.6],"Species":["setosa","virginica","virginica"]},"columns":[{"accessor":"Sepal.Length","name":"Sepal.Length","type":"numeric"},{"accessor":"Sepal.Width","name":"Sepal.Width","type":"numeric"},{"accessor":"Petal.Length","name":"Petal.Length","type":"numeric"},{"accessor":"Petal.Width","name":"Petal.Width","type":"numeric"},{"accessor":"Species","name":"Species","type":"factor"}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"dataKey":"7f7115495bb88e98f4a6a7a644b09b5d","key":"7f7115495bb88e98f4a6a7a644b09b5d"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="mises-en-forme-complexes-avec" class="section level1">
<h1>Mises en forme complexes avec</h1>
<div id="kable-et-kableextra" class="section level3">
<h3>kable et kableExtra</h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(ma_table, <span class="at">format =</span> <span class="st">&quot;html&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">kable_styling</span>(<span class="fu">c</span>(<span class="st">&quot;striped&quot;</span>, <span class="st">&quot;bordered&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_header_above</span>(<span class="fu">c</span>(<span class="st">&quot;Sepal&quot;</span> <span class="ot">=</span> <span class="dv">2</span>, <span class="st">&quot;Petal&quot;</span> <span class="ot">=</span> <span class="dv">2</span>, <span class="st">&quot;Species&quot;</span> <span class="ot">=</span> <span class="dv">1</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_header_above</span>(<span class="fu">c</span>(<span class="st">&quot;numeric&quot;</span> <span class="ot">=</span> <span class="dv">4</span>, <span class="st">&quot;character&quot;</span> <span class="ot">=</span> <span class="dv">1</span>)) <span class="sc">%&gt;%</span> <span class="fu">add_header_above</span>(<span class="fu">c</span>( <span class="st">&quot;all&quot;</span> <span class="ot">=</span> <span class="dv">5</span>))</span></code></pre></div>
<table class="table table-striped table-bordered" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="5">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
all
</div>
</th>
</tr>
<tr>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="4">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
numeric
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
character
</div>
</th>
</tr>
<tr>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Sepal
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Petal
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="1">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Species
</div>
</th>
</tr>
<tr>
<th style="text-align:right;">
Sepal.Length
</th>
<th style="text-align:right;">
Sepal.Width
</th>
<th style="text-align:right;">
Petal.Length
</th>
<th style="text-align:right;">
Petal.Width
</th>
<th style="text-align:left;">
Species
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
4.3
</td>
<td style="text-align:right;">
2.5
</td>
<td style="text-align:right;">
-0.3
</td>
<td style="text-align:right;">
1.3
</td>
<td style="text-align:left;">
setosa
</td>
</tr>
<tr>
<td style="text-align:right;">
5.9
</td>
<td style="text-align:right;">
1.3
</td>
<td style="text-align:right;">
4.6
</td>
<td style="text-align:right;">
0.4
</td>
<td style="text-align:left;">
virginica
</td>
</tr>
<tr>
<td style="text-align:right;">
5.4
</td>
<td style="text-align:right;">
1.6
</td>
<td style="text-align:right;">
3.9
</td>
<td style="text-align:right;">
0.6
</td>
<td style="text-align:left;">
virginica
</td>
</tr>
</tbody>
</table>
</div>
<div id="dt-1" class="section level3">
<h3>DT</h3>
<p>Script R base sur la documentation Javascript :</p>
<ul>
<li>configuration pour certaines colonnes <a href="https://rstudio.github.io/DT/options.html" class="uri">https://rstudio.github.io/DT/options.html</a></li>
<li>pour ajouter un bouton
<ul>
<li><a href="https://datatables.net/extensions/buttons/built-in" class="uri">https://datatables.net/extensions/buttons/built-in</a></li>
<li><a href="https://datatables.net/reference/option/buttons" class="uri">https://datatables.net/reference/option/buttons</a></li>
<li><a href="https://datatables.net/reference/button/" class="uri">https://datatables.net/reference/button/</a></li>
<li><a href="https://datatables.net/reference/button/colvis" class="uri">https://datatables.net/reference/button/colvis</a></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="at">data =</span> mtcars2,</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>          <span class="co"># on enleve les rownames et  on ajoute un bouton</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">rownames =</span> <span class="cn">FALSE</span>, </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">extensions =</span> <span class="st">&#39;Buttons&#39;</span>,</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>          <span class="do">### parametrage des options</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">5</span>,</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>          <span class="co"># texte a afficher en francais plutot qu&#39;en anglais</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">language =</span> <span class="fu">list</span>(</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">info =</span> <span class="st">&#39;Extrait des enregistrements de _START_ a _END_&#39;</span>,</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">paginate =</span> <span class="fu">list</span>(<span class="at">previous =</span> <span class="st">&#39;Precedent&#39;</span>, <span class="st">`</span><span class="at">next</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&#39;Suivant&#39;</span>),</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">sLengthMenu =</span> <span class="st">&quot;Afficher _MENU_ elements&quot;</span>),</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>          <span class="co">#  on masque les colonnes 4 et 5</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>          <span class="at">columnDefs =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="at">visible =</span> <span class="cn">FALSE</span>,</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">targets =</span> <span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">5</span>))),</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>          <span class="co"># elements a afficher parmi les 5 &quot;lftip &quot; qui constituent le</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>          <span class="co"># Document Object Model :</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>          <span class="co"># l = Length menu, f = Filtering box, t = Table, i = Information summary, </span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>          <span class="co"># p = Pagination control. On peut mettre un B pour ajouter un bouton</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>          <span class="at">dom =</span> <span class="st">&#39;Btip&#39;</span>,</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>          <span class="co"># extend pour le type du bouton qui va masquer certaines des 5 1eres colonnes</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>          <span class="at">buttons =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="at">extend =</span> <span class="st">&#39;colvis&#39;</span>, </span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>                              <span class="at">className =</span> <span class="st">&quot;btn btn-default&quot;</span>, </span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>                              <span class="at">text =</span> <span class="st">&quot;Afficher / cacher des colonnes&quot;</span>, </span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>                              <span class="at">columns =</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">4</span>))),</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>          <span class="co"># echappement du code HTML pour eviter pb de securite</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>          <span class="at">escape =</span> <span class="cn">TRUE</span>,</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>          <span class="co"># jolies couleurs pr l&#39;entete, avec du javascript,</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>          <span class="co"># mais ca ne marche pas dans ce markdown qui impose son vert cayman :-)</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>          <span class="at">initComplete =</span> DT<span class="sc">::</span><span class="fu">JS</span>(</span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;function(settings, json) {&quot;</span>,</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;$(this.api().table().header()).css({&#39;background-color&#39;: &#39;#428bca&#39;,</span></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a><span class="st">            &#39;color&#39;: &#39;#fff&#39;});&quot;</span>,<span class="st">&quot;}&quot;</span>)))</span></code></pre></div>
<div id="htmlwidget-73eaf1397ba0766a317e" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-73eaf1397ba0766a317e">{"x":{"filter":"none","extensions":["Buttons"],"data":[["Mazda","Mazda","Datsun","Hornet","Hornet","Duster","Merc","Merc","Merc","Merc","Merc","Merc","Merc","Cadillac","Lincoln","Chrysler","Fiat","Honda","Toyota","Toyota","Dodge","AMC","Camaro","Pontiac","Fiat","Porsche","Lotus","Ford","Ferrari","Maserati","Volvo"],[21,21,22.8,21.4,18.7,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],[6,6,4,6,8,8,4,4,6,6,8,8,8,8,8,8,4,4,4,4,8,8,8,8,4,4,4,8,6,8,4],[160,160,108,258,360,360,146.7,140.8,167.6,167.6,275.8,275.8,275.8,472,460,440,78.7,75.7,71.1,120.1,318,304,350,400,79,120.3,95.1,351,145,301,121],[110,110,93,110,175,245,62,95,123,123,180,180,180,205,215,230,66,52,65,97,150,150,245,175,66,91,113,264,175,335,109],[3.9,3.9,3.85,3.08,3.15,3.21,3.69,3.92,3.92,3.92,3.07,3.07,3.07,2.93,3,3.23,4.08,4.93,4.22,3.7,2.76,3.15,3.73,3.08,4.08,4.43,3.77,4.22,3.62,3.54,4.11]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>marque<\/th>\n      <th>mpg<\/th>\n      <th>cyl<\/th>\n      <th>disp<\/th>\n      <th>hp<\/th>\n      <th>drat<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"language":{"info":"Extrait des enregistrements de _START_ a _END_","paginate":{"previous":"Precedent","next":"Suivant"},"sLengthMenu":"Afficher _MENU_ elements"},"columnDefs":[{"visible":false,"targets":[4,5]},{"className":"dt-right","targets":[1,2,3,4,5]}],"dom":"Btip","buttons":[{"extend":"colvis","className":"btn btn-default","text":"Afficher / cacher des colonnes","columns":[0,1,2,3,4]}],"escape":true,"initComplete":"function(settings, json) {\n$(this.api().table().header()).css({'background-color': '#428bca',\n            'color': '#fff'});\n}","order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":["options.initComplete"],"jsHooks":[]}</script>
</div>
<div id="reactable-1" class="section level3">
<h3>reactable</h3>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">reactable</span>(</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  mtcars2,</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">filterable =</span> <span class="cn">TRUE</span>,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">searchable =</span> <span class="cn">TRUE</span>, </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>   <span class="at">highlight =</span> <span class="cn">TRUE</span>,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">bordered =</span> <span class="cn">TRUE</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">striped =</span> <span class="cn">TRUE</span>,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">fullWidth =</span> <span class="cn">FALSE</span>,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">defaultColDef =</span> <span class="fu">colDef</span>(<span class="at">minWidth =</span> <span class="dv">140</span>),</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">defaultSorted =</span> <span class="fu">list</span>(<span class="at">marque =</span> <span class="st">&quot;asc&quot;</span>, <span class="at">cyl =</span> <span class="st">&quot;desc&quot;</span>),</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">columnGroups =</span> <span class="fu">list</span>(</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">colGroup</span>(<span class="at">name =</span> <span class="st">&quot;groupe 1&quot;</span>, <span class="at">columns =</span> <span class="fu">c</span>(<span class="st">&quot;marque&quot;</span>, <span class="st">&quot;mpg&quot;</span>)),</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">colGroup</span>(<span class="at">name =</span> <span class="st">&quot;groupe 2&quot;</span>, <span class="at">columns =</span> <span class="fu">c</span>(<span class="st">&quot;disp&quot;</span>, <span class="st">&quot;hp&quot;</span>, <span class="st">&quot;drat&quot;</span>))))</span></code></pre></div>
<div id="htmlwidget-01452b19a18d1a6e3307" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-01452b19a18d1a6e3307">{"x":{"tag":{"name":"Reactable","attribs":{"data":{".rownames":["RX4","RX4 Wag","710","4 Drive","Sportabout","360","240D","230","280","280C","450SE","450SL","450SLC","Fleetwood","Continental","Imperial","128","Civic","Corolla","Corona","Challenger","Javelin","Z28","Firebird","X1-9","914-2","Europa","Pantera L","Dino","Bora","142E"],"marque":["Mazda","Mazda","Datsun","Hornet","Hornet","Duster","Merc","Merc","Merc","Merc","Merc","Merc","Merc","Cadillac","Lincoln","Chrysler","Fiat","Honda","Toyota","Toyota","Dodge","AMC","Camaro","Pontiac","Fiat","Porsche","Lotus","Ford","Ferrari","Maserati","Volvo"],"mpg":[21,21,22.8,21.4,18.7,14.3,24.4,22.8,19.2,17.8,16.4,17.3,15.2,10.4,10.4,14.7,32.4,30.4,33.9,21.5,15.5,15.2,13.3,19.2,27.3,26,30.4,15.8,19.7,15,21.4],"cyl":[6,6,4,6,8,8,4,4,6,6,8,8,8,8,8,8,4,4,4,4,8,8,8,8,4,4,4,8,6,8,4],"disp":[160,160,108,258,360,360,146.7,140.8,167.6,167.6,275.8,275.8,275.8,472,460,440,78.7,75.7,71.1,120.1,318,304,350,400,79,120.3,95.1,351,145,301,121],"hp":[110,110,93,110,175,245,62,95,123,123,180,180,180,205,215,230,66,52,65,97,150,150,245,175,66,91,113,264,175,335,109],"drat":[3.9,3.9,3.85,3.08,3.15,3.21,3.69,3.92,3.92,3.92,3.07,3.07,3.07,2.93,3,3.23,4.08,4.93,4.22,3.7,2.76,3.15,3.73,3.08,4.08,4.43,3.77,4.22,3.62,3.54,4.11]},"columns":[{"accessor":".rownames","name":"","type":"character","minWidth":140,"sortable":false,"filterable":false},{"accessor":"marque","name":"marque","type":"character","minWidth":140},{"accessor":"mpg","name":"mpg","type":"numeric","minWidth":140},{"accessor":"cyl","name":"cyl","type":"numeric","minWidth":140},{"accessor":"disp","name":"disp","type":"numeric","minWidth":140},{"accessor":"hp","name":"hp","type":"numeric","minWidth":140},{"accessor":"drat","name":"drat","type":"numeric","minWidth":140}],"columnGroups":[{"name":"groupe 1","columns":["marque","mpg"]},{"name":"groupe 2","columns":["disp","hp","drat"]}],"filterable":true,"searchable":true,"defaultSorted":[{"id":"marque","desc":false},{"id":"cyl","desc":true}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"highlight":true,"bordered":true,"striped":true,"inline":true,"dataKey":"1cb95f4fed447ded47b6bd5d1444ff40","key":"1cb95f4fed447ded47b6bd5d1444ff40"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="lignes-regroupees-agregees-avec" class="section level1">
<h1>Lignes regroupees / agregees avec</h1>
<div id="reactable-2" class="section level3">
<h3>reactable</h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>resume <span class="ot">=</span> mtcars2 <span class="sc">%&gt;%</span> <span class="fu">count</span>(marque, cyl) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">n =</span> <span class="cn">NULL</span>) <span class="sc">%&gt;%</span> as.data.frame</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">reactable</span>(resume, <span class="at">details =</span> <span class="cf">function</span>(index) {</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  subset <span class="ot">&lt;-</span> mtcars2[mtcars2<span class="sc">$</span>marque <span class="sc">==</span> resume[index, <span class="st">&quot;marque&quot;</span>] <span class="sc">&amp;</span> </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>      mtcars2<span class="sc">$</span>cyl <span class="sc">==</span> resume[index, <span class="st">&quot;cyl&quot;</span>], <span class="fu">c</span>(<span class="st">&quot;marque&quot;</span>, <span class="st">&quot;cyl&quot;</span>, <span class="st">&quot;mpg&quot;</span>, <span class="st">&quot;disp&quot;</span>, <span class="st">&quot;hp&quot;</span>, <span class="st">&quot;drat&quot;</span>)]</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  htmltools<span class="sc">::</span><span class="fu">div</span>(<span class="at">style =</span> <span class="st">&quot;padding: 16px&quot;</span>,</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">reactable</span>(subset, <span class="at">outlined =</span> <span class="cn">TRUE</span>))})</span></code></pre></div>
<div id="htmlwidget-5a21b9697857ce179d02" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-5a21b9697857ce179d02">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"marque":["Fiat","Mazda","Merc","Merc","Merc","Toyota"],"cyl":[4,6,4,6,8,4]},"columns":[{"accessor":".details","name":"","type":"NULL","sortable":false,"resizable":false,"filterable":false,"width":45,"align":"center","details":[{"name":"div","attribs":{"style":{"padding":"16px"}},"children":[{"name":"Reactable","attribs":{"data":{".rownames":["128","X1-9"],"marque":["Fiat","Fiat"],"cyl":[4,4],"mpg":[32.4,27.3],"disp":[78.7,79],"hp":[66,66],"drat":[4.08,4.08]},"columns":[{"accessor":".rownames","name":"","type":"character","sortable":false,"filterable":false},{"accessor":"marque","name":"marque","type":"character"},{"accessor":"cyl","name":"cyl","type":"numeric"},{"accessor":"mpg","name":"mpg","type":"numeric"},{"accessor":"disp","name":"disp","type":"numeric"},{"accessor":"hp","name":"hp","type":"numeric"},{"accessor":"drat","name":"drat","type":"numeric"}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"outlined":true,"dataKey":"e92dbb2c9920c3a5e348c8f2b5794218","key":"e92dbb2c9920c3a5e348c8f2b5794218","nested":true},"children":[]}]},{"name":"div","attribs":{"style":{"padding":"16px"}},"children":[{"name":"Reactable","attribs":{"data":{".rownames":["RX4","RX4 Wag"],"marque":["Mazda","Mazda"],"cyl":[6,6],"mpg":[21,21],"disp":[160,160],"hp":[110,110],"drat":[3.9,3.9]},"columns":[{"accessor":".rownames","name":"","type":"character","sortable":false,"filterable":false},{"accessor":"marque","name":"marque","type":"character"},{"accessor":"cyl","name":"cyl","type":"numeric"},{"accessor":"mpg","name":"mpg","type":"numeric"},{"accessor":"disp","name":"disp","type":"numeric"},{"accessor":"hp","name":"hp","type":"numeric"},{"accessor":"drat","name":"drat","type":"numeric"}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"outlined":true,"dataKey":"7c281cd72763f1d5c4ad21d2ec2fbf78","key":"7c281cd72763f1d5c4ad21d2ec2fbf78","nested":true},"children":[]}]},{"name":"div","attribs":{"style":{"padding":"16px"}},"children":[{"name":"Reactable","attribs":{"data":{".rownames":["240D","230"],"marque":["Merc","Merc"],"cyl":[4,4],"mpg":[24.4,22.8],"disp":[146.7,140.8],"hp":[62,95],"drat":[3.69,3.92]},"columns":[{"accessor":".rownames","name":"","type":"character","sortable":false,"filterable":false},{"accessor":"marque","name":"marque","type":"character"},{"accessor":"cyl","name":"cyl","type":"numeric"},{"accessor":"mpg","name":"mpg","type":"numeric"},{"accessor":"disp","name":"disp","type":"numeric"},{"accessor":"hp","name":"hp","type":"numeric"},{"accessor":"drat","name":"drat","type":"numeric"}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"outlined":true,"dataKey":"baa155f89f86c03931177b2d727a1a9b","key":"baa155f89f86c03931177b2d727a1a9b","nested":true},"children":[]}]},{"name":"div","attribs":{"style":{"padding":"16px"}},"children":[{"name":"Reactable","attribs":{"data":{".rownames":["280","280C"],"marque":["Merc","Merc"],"cyl":[6,6],"mpg":[19.2,17.8],"disp":[167.6,167.6],"hp":[123,123],"drat":[3.92,3.92]},"columns":[{"accessor":".rownames","name":"","type":"character","sortable":false,"filterable":false},{"accessor":"marque","name":"marque","type":"character"},{"accessor":"cyl","name":"cyl","type":"numeric"},{"accessor":"mpg","name":"mpg","type":"numeric"},{"accessor":"disp","name":"disp","type":"numeric"},{"accessor":"hp","name":"hp","type":"numeric"},{"accessor":"drat","name":"drat","type":"numeric"}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"outlined":true,"dataKey":"2f19ca4aa990c55e1c856f79abcdc158","key":"2f19ca4aa990c55e1c856f79abcdc158","nested":true},"children":[]}]},{"name":"div","attribs":{"style":{"padding":"16px"}},"children":[{"name":"Reactable","attribs":{"data":{".rownames":["450SE","450SL","450SLC"],"marque":["Merc","Merc","Merc"],"cyl":[8,8,8],"mpg":[16.4,17.3,15.2],"disp":[275.8,275.8,275.8],"hp":[180,180,180],"drat":[3.07,3.07,3.07]},"columns":[{"accessor":".rownames","name":"","type":"character","sortable":false,"filterable":false},{"accessor":"marque","name":"marque","type":"character"},{"accessor":"cyl","name":"cyl","type":"numeric"},{"accessor":"mpg","name":"mpg","type":"numeric"},{"accessor":"disp","name":"disp","type":"numeric"},{"accessor":"hp","name":"hp","type":"numeric"},{"accessor":"drat","name":"drat","type":"numeric"}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"outlined":true,"dataKey":"f9f8496dd8186294833dbfe6eaaa0b25","key":"f9f8496dd8186294833dbfe6eaaa0b25","nested":true},"children":[]}]},{"name":"div","attribs":{"style":{"padding":"16px"}},"children":[{"name":"Reactable","attribs":{"data":{".rownames":["Corolla","Corona"],"marque":["Toyota","Toyota"],"cyl":[4,4],"mpg":[33.9,21.5],"disp":[71.1,120.1],"hp":[65,97],"drat":[4.22,3.7]},"columns":[{"accessor":".rownames","name":"","type":"character","sortable":false,"filterable":false},{"accessor":"marque","name":"marque","type":"character"},{"accessor":"cyl","name":"cyl","type":"numeric"},{"accessor":"mpg","name":"mpg","type":"numeric"},{"accessor":"disp","name":"disp","type":"numeric"},{"accessor":"hp","name":"hp","type":"numeric"},{"accessor":"drat","name":"drat","type":"numeric"}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"outlined":true,"dataKey":"1d3af499032a12e8af7de3a1a2a95c27","key":"1d3af499032a12e8af7de3a1a2a95c27","nested":true},"children":[]}]}]},{"accessor":"marque","name":"marque","type":"character"},{"accessor":"cyl","name":"cyl","type":"numeric"}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"dataKey":"39d45e9a947a44aafd30bc09c9928594","key":"39d45e9a947a44aafd30bc09c9928594"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="reactable-et-le-package-sparkline" class="section level3">
<h3>reactable et le package <em>sparkline</em></h3>
<p>On etudie le champ <em>Sepal.Length</em>, les mini-graphiques affichent des infobulles au passage de la souris.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2018</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>lignes_gardees <span class="ot">=</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">150</span>,<span class="dv">30</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>iris_liste <span class="ot">&lt;-</span> iris[lignes_gardees,] <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Species) <span class="sc">%&gt;%</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">moyenne =</span> scales<span class="sc">::</span><span class="fu">number</span>(<span class="fu">mean</span>(Sepal.Width), <span class="at">accuracy =</span> <span class="fl">0.1</span>),</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">barplot =</span> <span class="fu">list</span>(Sepal.Length)) <span class="sc">%&gt;%</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sparkline =</span> <span class="cn">NA</span>, <span class="at">boxplot =</span> <span class="cn">NA</span>)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="fu">reactable</span>(iris_liste, <span class="at">columns =</span> <span class="fu">list</span>(</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">sparkline =</span> <span class="fu">colDef</span>(<span class="at">cell =</span> <span class="cf">function</span>(value, index) {</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sparkline</span>(iris_liste<span class="sc">$</span>barplot[[index]])</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  }),</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">barplot =</span> <span class="fu">colDef</span>(<span class="at">cell =</span> <span class="cf">function</span>(values) {</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sparkline</span>(values, <span class="at">type =</span> <span class="st">&quot;bar&quot;</span>)</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>  }),</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">boxplot =</span> <span class="fu">colDef</span>(<span class="at">cell =</span> <span class="cf">function</span>(value, index) {</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sparkline</span>(iris_liste<span class="sc">$</span>barplot[[index]], <span class="at">type =</span> <span class="st">&quot;box&quot;</span>)</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>))</span></code></pre></div>
<div id="htmlwidget-c982acdb0223cca0114a" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-c982acdb0223cca0114a">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"Species":["setosa","versicolor","virginica"],"moyenne":["3.5","2.8","2.8"],"barplot":[[5.8,5.1,5.4,5.7,4.8,4.4,5.3,5.1,5.4,4.8],[5.4,6.3,6.1,6.3,5.5,6,6.7,7,6.4,6.1,5,6,6.2],[7.4,6.9,6.7,4.9,7.3,6.4,6.2]],"sparkline":[null,null,null],"boxplot":[null,null,null]},"columns":[{"accessor":"Species","name":"Species","type":"factor"},{"accessor":"moyenne","name":"moyenne","type":"character"},{"accessor":"barplot","name":"barplot","type":"list","cell":[{"name":"WidgetContainer","attribs":{"key":"cb905d069fec4246ade08885f2849bb7"},"children":[{"name":"Fragment","attribs":[],"children":[{"name":"span","attribs":{"id":"htmlwidget-cc9f64c049e734586e5c","className":"sparkline html-widget"},"children":[]},{"name":"script","attribs":{"type":"application/json","data-for":"htmlwidget-cc9f64c049e734586e5c"},"children":["{\"x\":{\"values\":[5.8,5.1,5.4,5.7,4.8,4.4,5.3,5.1,5.4,4.8],\"options\":{\"type\":\"bar\",\"height\":20,\"width\":60},\"width\":60,\"height\":20},\"evals\":[],\"jsHooks\":[]}"]}]}]},{"name":"WidgetContainer","attribs":{"key":"faa6bdf96ad3397bf8068ba5fb26f9cd"},"children":[{"name":"Fragment","attribs":[],"children":[{"name":"span","attribs":{"id":"htmlwidget-7c36d0e79226757fe23d","className":"sparkline html-widget"},"children":[]},{"name":"script","attribs":{"type":"application/json","data-for":"htmlwidget-7c36d0e79226757fe23d"},"children":["{\"x\":{\"values\":[5.4,6.3,6.1,6.3,5.5,6,6.7,7,6.4,6.1,5,6,6.2],\"options\":{\"type\":\"bar\",\"height\":20,\"width\":60},\"width\":60,\"height\":20},\"evals\":[],\"jsHooks\":[]}"]}]}]},{"name":"WidgetContainer","attribs":{"key":"5dc203dfe177ce11aac6a6686f424be2"},"children":[{"name":"Fragment","attribs":[],"children":[{"name":"span","attribs":{"id":"htmlwidget-080ace6dc8f91480b99f","className":"sparkline html-widget"},"children":[]},{"name":"script","attribs":{"type":"application/json","data-for":"htmlwidget-080ace6dc8f91480b99f"},"children":["{\"x\":{\"values\":[7.4,6.9,6.7,4.9,7.3,6.4,6.2],\"options\":{\"type\":\"bar\",\"height\":20,\"width\":60},\"width\":60,\"height\":20},\"evals\":[],\"jsHooks\":[]}"]}]}]}]},{"accessor":"sparkline","name":"sparkline","type":"logical","cell":[{"name":"WidgetContainer","attribs":{"key":"95f842dda3c6c5d458d5792d12cf736e"},"children":[{"name":"Fragment","attribs":[],"children":[{"name":"span","attribs":{"id":"htmlwidget-99015e901e2028fd0db9","className":"sparkline html-widget"},"children":[]},{"name":"script","attribs":{"type":"application/json","data-for":"htmlwidget-99015e901e2028fd0db9"},"children":["{\"x\":{\"values\":[5.8,5.1,5.4,5.7,4.8,4.4,5.3,5.1,5.4,4.8],\"options\":{\"height\":20,\"width\":60},\"width\":60,\"height\":20},\"evals\":[],\"jsHooks\":[]}"]}]}]},{"name":"WidgetContainer","attribs":{"key":"19686bc916a989b5394c2daa9973d3f8"},"children":[{"name":"Fragment","attribs":[],"children":[{"name":"span","attribs":{"id":"htmlwidget-21951a1aa01afa1fa6c5","className":"sparkline html-widget"},"children":[]},{"name":"script","attribs":{"type":"application/json","data-for":"htmlwidget-21951a1aa01afa1fa6c5"},"children":["{\"x\":{\"values\":[5.4,6.3,6.1,6.3,5.5,6,6.7,7,6.4,6.1,5,6,6.2],\"options\":{\"height\":20,\"width\":60},\"width\":60,\"height\":20},\"evals\":[],\"jsHooks\":[]}"]}]}]},{"name":"WidgetContainer","attribs":{"key":"91f5aefed606e6dbc2222bda327e3158"},"children":[{"name":"Fragment","attribs":[],"children":[{"name":"span","attribs":{"id":"htmlwidget-a4b5eaf25baf6fd3691f","className":"sparkline html-widget"},"children":[]},{"name":"script","attribs":{"type":"application/json","data-for":"htmlwidget-a4b5eaf25baf6fd3691f"},"children":["{\"x\":{\"values\":[7.4,6.9,6.7,4.9,7.3,6.4,6.2],\"options\":{\"height\":20,\"width\":60},\"width\":60,\"height\":20},\"evals\":[],\"jsHooks\":[]}"]}]}]}]},{"accessor":"boxplot","name":"boxplot","type":"logical","cell":[{"name":"WidgetContainer","attribs":{"key":"8d964c5f0b8c87cdb80898b220a5878b"},"children":[{"name":"Fragment","attribs":[],"children":[{"name":"span","attribs":{"id":"htmlwidget-2f88d3dc0621cc2b1964","className":"sparkline html-widget"},"children":[]},{"name":"script","attribs":{"type":"application/json","data-for":"htmlwidget-2f88d3dc0621cc2b1964"},"children":["{\"x\":{\"values\":[5.8,5.1,5.4,5.7,4.8,4.4,5.3,5.1,5.4,4.8],\"options\":{\"type\":\"box\",\"height\":20,\"width\":60},\"width\":60,\"height\":20},\"evals\":[],\"jsHooks\":[]}"]}]}]},{"name":"WidgetContainer","attribs":{"key":"ab28156398ea47fff8431d10da762dc9"},"children":[{"name":"Fragment","attribs":[],"children":[{"name":"span","attribs":{"id":"htmlwidget-4a428b86c730e75238c3","className":"sparkline html-widget"},"children":[]},{"name":"script","attribs":{"type":"application/json","data-for":"htmlwidget-4a428b86c730e75238c3"},"children":["{\"x\":{\"values\":[5.4,6.3,6.1,6.3,5.5,6,6.7,7,6.4,6.1,5,6,6.2],\"options\":{\"type\":\"box\",\"height\":20,\"width\":60},\"width\":60,\"height\":20},\"evals\":[],\"jsHooks\":[]}"]}]}]},{"name":"WidgetContainer","attribs":{"key":"14e6709ec3d4354d4549f2805800ed22"},"children":[{"name":"Fragment","attribs":[],"children":[{"name":"span","attribs":{"id":"htmlwidget-dfc65634487b36ee5391","className":"sparkline html-widget"},"children":[]},{"name":"script","attribs":{"type":"application/json","data-for":"htmlwidget-dfc65634487b36ee5391"},"children":["{\"x\":{\"values\":[7.4,6.9,6.7,4.9,7.3,6.4,6.2],\"options\":{\"type\":\"box\",\"height\":20,\"width\":60},\"width\":60,\"height\":20},\"evals\":[],\"jsHooks\":[]}"]}]}]}]}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"dataKey":"29517e577bbbd6ea743ace6016ffc3e4","key":"29517e577bbbd6ea743ace6016ffc3e4"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="mises-en-forme-en-couleur-le-script-avec" class="section level1">
<h1>Mises en forme en couleur : le script avec</h1>
<div id="formattable" class="section level3">
<h3>formattable</h3>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>tb_formattable <span class="ot">=</span> <span class="fu">formattable</span>(ma_table,</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>            <span class="fu">list</span>(<span class="at">Sepal.Length =</span> <span class="fu">color_bar</span>(<span class="st">&quot;cornflowerblue&quot;</span>),</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">Sepal.Width =</span> <span class="fu">color_bar</span>(<span class="st">&quot;gold&quot;</span>),</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">Petal.Length =</span> <span class="fu">formatter</span>(<span class="st">&quot;span&quot;</span>, </span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">style =</span> x <span class="sc">~</span> <span class="fu">ifelse</span>(x <span class="sc">&lt;=</span> <span class="dv">0</span>, <span class="st">&quot;color:green&quot;</span>, <span class="st">&quot;color:orange&quot;</span>)),</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">Petal.Width =</span> <span class="fu">color_tile</span>(<span class="st">&quot;transparent&quot;</span>, <span class="st">&quot;pink&quot;</span>)))</span></code></pre></div>
</div>
<div id="dt-2" class="section level3">
<h3>DT</h3>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>tb_DT <span class="ot">=</span> <span class="fu">datatable</span>(ma_table, </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">class =</span> <span class="st">&#39;cell-border stripe&#39;</span>, </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">filter =</span> <span class="st">&#39;top&#39;</span>, </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>          <span class="co"># pour deplacer les colonnes en faisant glisser leur nom</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">extensions =</span> <span class="st">&#39;ColReorder&#39;</span>,</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>          <span class="co"># 5 lignes par page affichee</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">options =</span> <span class="fu">list</span>(<span class="at">colReorder =</span> <span class="cn">TRUE</span>, <span class="at">pageLength =</span> <span class="dv">5</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatStyle</span>(<span class="st">&#39;Petal.Length&#39;</span>,</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>              <span class="at">color =</span> <span class="fu">styleInterval</span>(<span class="dv">0</span>, <span class="fu">c</span>(<span class="st">&#39;green&#39;</span>, <span class="st">&#39;orange&#39;</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatStyle</span>(<span class="st">&#39;Sepal.Length&#39;</span>,</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>              <span class="at">background =</span> <span class="fu">styleColorBar</span>(iris<span class="sc">$</span>Petal.Length, <span class="st">&#39;cornflowerblue&#39;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatStyle</span>(<span class="st">&#39;Sepal.Width&#39;</span>,</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>              <span class="at">background =</span> <span class="fu">styleColorBar</span>(iris<span class="sc">$</span>Petal.Length, <span class="st">&#39;gold&#39;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formatStyle</span>(<span class="st">&#39;Petal.Width&#39;</span>,</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>              <span class="at">backgroundColor =</span> <span class="fu">styleInterval</span>(<span class="fu">seq</span>(<span class="fu">min</span>(ma_table<span class="sc">$</span>Petal.Width),</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>                                                  <span class="fu">max</span>(ma_table<span class="sc">$</span>Petal.Width), </span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>                                                  <span class="at">length.out =</span> <span class="dv">9</span>), </span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>                                              <span class="fu">colorRampPalette</span>(<span class="fu">c</span>(<span class="st">&quot;white&quot;</span>, <span class="st">&quot;pink&quot;</span>))(<span class="dv">10</span>)))</span></code></pre></div>
</div>
<div id="reactable-3" class="section level3">
<h3>reactable</h3>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>bar_chart <span class="ot">&lt;-</span> <span class="cf">function</span>(value, max_value, <span class="at">height =</span> <span class="st">&quot;16px&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;#00bfc4&quot;</span>, <span class="at">background =</span> <span class="cn">NULL</span>) {</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  width <span class="ot">=</span> <span class="fu">paste0</span>(value <span class="sc">/</span> max_value <span class="sc">*</span> <span class="dv">100</span>, <span class="st">&quot;%&quot;</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  bar <span class="ot">&lt;-</span> <span class="fu">div</span>(<span class="at">style =</span> <span class="fu">list</span>(<span class="at">background =</span> fill, <span class="at">width =</span> width, <span class="at">height =</span> height))</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  chart <span class="ot">&lt;-</span> <span class="fu">div</span>(<span class="at">style =</span> <span class="fu">list</span>(<span class="at">flexGrow =</span> <span class="dv">1</span>, <span class="at">marginLeft =</span> <span class="st">&quot;8px&quot;</span>, <span class="at">background =</span> background), bar)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">div</span>(<span class="at">style =</span> <span class="fu">list</span>(<span class="at">display =</span> <span class="st">&quot;flex&quot;</span>, <span class="at">alignItems =</span> <span class="st">&quot;center&quot;</span>),</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>      scales<span class="sc">::</span><span class="fu">number</span>(value, <span class="at">accuracy =</span> <span class="fl">0.1</span>), chart)</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>tb_reactable <span class="ot">=</span> <span class="fu">reactable</span>(</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  ma_table,</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">columns =</span> <span class="fu">list</span>(</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">Sepal.Length =</span> <span class="fu">colDef</span>(<span class="at">name =</span> <span class="st">&quot;Sepal.Length&quot;</span>, <span class="at">align =</span> <span class="st">&quot;left&quot;</span>, <span class="at">cell =</span> <span class="cf">function</span>(value) {</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bar_chart</span>(value, <span class="at">max_value =</span> <span class="fu">max</span>(ma_table<span class="sc">$</span>Sepal.Length), </span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>              <span class="at">fill =</span> <span class="st">&quot;cornflowerblue&quot;</span>, <span class="at">background =</span> <span class="st">&quot;lightblue&quot;</span>)</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>  }),</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">Sepal.Width =</span> <span class="fu">colDef</span>(<span class="at">name =</span> <span class="st">&quot;Sepal.Width&quot;</span>, <span class="at">align =</span> <span class="st">&quot;left&quot;</span>, <span class="at">cell =</span> <span class="cf">function</span>(value) {</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">bar_chart</span>(value, <span class="at">max_value =</span> <span class="fu">max</span>(ma_table<span class="sc">$</span>Sepal.Width), <span class="at">fill =</span> <span class="st">&quot;gold&quot;</span>, <span class="at">background =</span> <span class="st">&quot;yellow&quot;</span>)</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>  }),</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">Petal.Length =</span> <span class="fu">colDef</span>(<span class="at">style =</span> <span class="cf">function</span>(value) {</span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>              <span class="cf">if</span> (value <span class="sc">&lt;</span> <span class="dv">0</span>) {</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>                color <span class="ot">&lt;-</span> <span class="st">&quot;green&quot;</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>              } <span class="cf">else</span> {color <span class="ot">&lt;-</span> <span class="st">&quot;orange&quot;</span>}</span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>              <span class="fu">list</span>(<span class="at">color =</span> color, <span class="at">fontWeight =</span> <span class="st">&quot;bold&quot;</span>)</span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>              }</span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>              ),</span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">Petal.Width =</span> <span class="fu">colDef</span>(<span class="at">style =</span> <span class="cf">function</span>(value) {</span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>              normalized <span class="ot">&lt;-</span> (value <span class="sc">-</span> <span class="fu">min</span>(ma_table<span class="sc">$</span>Petal.Width)) <span class="sc">/</span></span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>                (<span class="fu">max</span>(ma_table<span class="sc">$</span>Petal.Width) <span class="sc">-</span> <span class="fu">min</span>(ma_table<span class="sc">$</span>Petal.Width))</span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>             orange_pal <span class="ot">&lt;-</span> <span class="cf">function</span>(x) <span class="fu">rgb</span>(<span class="fu">colorRamp</span>(<span class="fu">c</span>(<span class="st">&quot;white&quot;</span>, <span class="st">&quot;pink&quot;</span>))(x), <span class="at">maxColorValue =</span> <span class="dv">255</span>)</span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>              color <span class="ot">&lt;-</span> <span class="fu">orange_pal</span>(normalized)</span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>            <span class="fu">list</span>(<span class="at">background =</span> color)</span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>            ),</span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>  <span class="at">Species =</span> <span class="fu">colDef</span>(<span class="at">cell =</span> <span class="cf">function</span>(value) {</span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a>    <span class="co"># balise avec les classes &quot;tag&quot; (pour la forme) et &quot;status-species&quot; pour les couleurs</span></span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a>    class <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;tag status-&quot;</span>, <span class="fu">tolower</span>(value))</span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a>    htmltools<span class="sc">::</span><span class="fu">div</span>(<span class="at">class =</span> class, value)})</span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>C’est dans un chunck “css” et non pas “r” qu’on donne la definition des differentes classes utilisees par <em>reactable</em> pour la mise en forme de la colonne <em>Species</em>.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">.tag</span> {</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">display</span>: <span class="dv">inline-block</span><span class="op">;</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">padding</span>: <span class="dv">2</span><span class="dt">px</span> <span class="dv">12</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">border-radius</span>: <span class="dv">15</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">font-weight</span>: <span class="dv">600</span><span class="op">;</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">font-size</span>: <span class="dv">12</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="fu">.status-setosa</span> {</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  <span class="kw">background</span>: <span class="cn">aquamarine</span><span class="op">;</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>  <span class="kw">color</span>: <span class="cn">forestgreen</span><span class="op">;</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="fu">.status-virginica</span> {</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>  <span class="kw">background</span>: <span class="cn">hotpink</span><span class="op">;</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>  <span class="kw">color</span>: <span class="cn">purple</span><span class="op">;</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a><span class="fu">.status-versicolor</span> {</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>  <span class="kw">background</span>: <span class="cn">cornflowerblue</span><span class="op">;</span></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>  <span class="kw">color</span>: <span class="cn">blue</span><span class="op">;</span></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<style type="text/css">
.tag {
  display: inline-block;
  padding: 2px 12px;
  border-radius: 15px;
  font-weight: 600;
  font-size: 12px;
}

.status-setosa {
  background: aquamarine;
  color: forestgreen;
}

.status-virginica {
  background: hotpink;
  color: purple;
}

.status-versicolor {
  background: cornflowerblue;
  color: blue;
}
</style>
</div>
</div>
<div id="mise-en-forme-en-couleur-les-resultats" class="section level1">
<h1>Mise en forme en couleur : les resultats</h1>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>tb_formattable</span></code></pre></div>
<table class="table table-condensed">
<thead>
<tr>
<th style="text-align:right;">
Sepal.Length
</th>
<th style="text-align:right;">
Sepal.Width
</th>
<th style="text-align:right;">
Petal.Length
</th>
<th style="text-align:right;">
Petal.Width
</th>
<th style="text-align:right;">
Species
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
<span style="display: inline-block; direction: rtl; unicode-bidi: plaintext; border-radius: 4px; padding-right: 2px; background-color: cornflowerblue; width: 72.88%">4.3</span>
</td>
<td style="text-align:right;">
<span style="display: inline-block; direction: rtl; unicode-bidi: plaintext; border-radius: 4px; padding-right: 2px; background-color: gold; width: 100.00%">2.5</span>
</td>
<td style="text-align:right;">
<span style="color:green">-0.3</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffc0cb">1.3</span>
</td>
<td style="text-align:right;">
setosa
</td>
</tr>
<tr>
<td style="text-align:right;">
<span style="display: inline-block; direction: rtl; unicode-bidi: plaintext; border-radius: 4px; padding-right: 2px; background-color: cornflowerblue; width: 100.00%">5.9</span>
</td>
<td style="text-align:right;">
<span style="display: inline-block; direction: rtl; unicode-bidi: plaintext; border-radius: 4px; padding-right: 2px; background-color: gold; width: 52.00%">1.3</span>
</td>
<td style="text-align:right;">
<span style="color:orange">4.6</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #ffffff">0.4</span>
</td>
<td style="text-align:right;">
virginica
</td>
</tr>
<tr>
<td style="text-align:right;">
<span style="display: inline-block; direction: rtl; unicode-bidi: plaintext; border-radius: 4px; padding-right: 2px; background-color: cornflowerblue; width: 91.53%">5.4</span>
</td>
<td style="text-align:right;">
<span style="display: inline-block; direction: rtl; unicode-bidi: plaintext; border-radius: 4px; padding-right: 2px; background-color: gold; width: 64.00%">1.6</span>
</td>
<td style="text-align:right;">
<span style="color:orange">3.9</span>
</td>
<td style="text-align:right;">
<span style="display: block; padding: 0 4px; border-radius: 4px; background-color: #fff1f3">0.6</span>
</td>
<td style="text-align:right;">
virginica
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>tb_DT</span></code></pre></div>
<div id="htmlwidget-e9c52010a5de1a185365" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-e9c52010a5de1a185365">{"x":{"filter":"top","filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"4.3\" data-max=\"5.9\" data-scale=\"1\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"1.3\" data-max=\"2.5\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"-0.300000000000001\" data-max=\"4.6\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"0.399999999999999\" data-max=\"1.3\" data-scale=\"15\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;setosa&quot;,&quot;versicolor&quot;,&quot;virginica&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n<\/tr>","extensions":["ColReorder"],"data":[["1","2","3"],[4.3,5.9,5.4],[2.5,1.3,1.6],[-0.3,4.6,3.9],[1.3,0.4,0.6],["setosa","virginica","virginica"]],"container":"<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Sepal.Length<\/th>\n      <th>Sepal.Width<\/th>\n      <th>Petal.Length<\/th>\n      <th>Petal.Width<\/th>\n      <th>Species<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"colReorder":true,"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[1,2,3,4]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true,"lengthMenu":[5,10,25,50,100],"rowCallback":"function(row, data) {\nvar value=data[3]; $(this.api().cell(row, 3).node()).css({'color':isNaN(parseFloat(value)) ? '' : value <= 0 ? \"green\" : \"orange\"});\nvar value=data[1]; $(this.api().cell(row, 1).node()).css({'background':isNaN(parseFloat(value)) || value <= 1.000000 ? '' : 'linear-gradient(90.000000deg, transparent ' + Math.max(6.900000 - value, 0)/5.900000 * 100 + '%, cornflowerblue ' + Math.max(6.900000 - value, 0)/5.900000 * 100 + '%)'});\nvar value=data[2]; $(this.api().cell(row, 2).node()).css({'background':isNaN(parseFloat(value)) || value <= 1.000000 ? '' : 'linear-gradient(90.000000deg, transparent ' + Math.max(6.900000 - value, 0)/5.900000 * 100 + '%, gold ' + Math.max(6.900000 - value, 0)/5.900000 * 100 + '%)'});\nvar value=data[4]; $(this.api().cell(row, 4).node()).css({'background-color':isNaN(parseFloat(value)) ? '' : value <= 0.4 ? \"#FFFFFF\" : value <= 0.5125 ? \"#FFF8F9\" : value <= 0.625 ? \"#FFF1F3\" : value <= 0.7375 ? \"#FFEAED\" : value <= 0.85 ? \"#FFE3E7\" : value <= 0.9625 ? \"#FFDCE2\" : value <= 1.075 ? \"#FFD5DC\" : value <= 1.1875 ? \"#FFCED6\" : value <= 1.3 ? \"#FFC7D0\" : \"#FFC0CB\"});\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>tb_reactable</span></code></pre></div>
<div id="htmlwidget-6e72295becb1e14a2931" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-6e72295becb1e14a2931">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"Sepal.Length":[4.3,5.9,5.4],"Sepal.Width":[2.5,1.3,1.6],"Petal.Length":[-0.3,4.6,3.9],"Petal.Width":[1.3,0.4,0.6],"Species":["setosa","virginica","virginica"]},"columns":[{"accessor":"Sepal.Length","name":"Sepal.Length","type":"numeric","cell":[{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["4.3",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":"lightblue"}},"children":[{"name":"div","attribs":{"style":{"background":"cornflowerblue","width":"72.8813559322034%","height":"16px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["5.9",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":"lightblue"}},"children":[{"name":"div","attribs":{"style":{"background":"cornflowerblue","width":"100%","height":"16px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["5.4",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":"lightblue"}},"children":[{"name":"div","attribs":{"style":{"background":"cornflowerblue","width":"91.5254237288136%","height":"16px"}},"children":[]}]}]}],"align":"left"},{"accessor":"Sepal.Width","name":"Sepal.Width","type":"numeric","cell":[{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["2.5",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":"yellow"}},"children":[{"name":"div","attribs":{"style":{"background":"gold","width":"100%","height":"16px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["1.3",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":"yellow"}},"children":[{"name":"div","attribs":{"style":{"background":"gold","width":"52%","height":"16px"}},"children":[]}]}]},{"name":"div","attribs":{"style":{"display":"flex","alignItems":"center"}},"children":["1.6",{"name":"div","attribs":{"style":{"flexGrow":1,"marginLeft":"8px","background":"yellow"}},"children":[{"name":"div","attribs":{"style":{"background":"gold","width":"64%","height":"16px"}},"children":[]}]}]}],"align":"left"},{"accessor":"Petal.Length","name":"Petal.Length","type":"numeric","style":[{"color":"green","fontWeight":"bold"},{"color":"orange","fontWeight":"bold"},{"color":"orange","fontWeight":"bold"}]},{"accessor":"Petal.Width","name":"Petal.Width","type":"numeric","style":[{"background":"#FFC0CB"},{"background":"#FFFFFF"},{"background":"#FFF1F3"}]},{"accessor":"Species","name":"Species","type":"factor","cell":[{"name":"div","attribs":{"className":"tag status-setosa"},"children":["setosa"]},{"name":"div","attribs":{"className":"tag status-virginica"},"children":["virginica"]},{"name":"div","attribs":{"className":"tag status-virginica"},"children":["virginica"]}]}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"dataKey":"677bf74182a9c3596f25645dfed0e389","key":"677bf74182a9c3596f25645dfed0e389"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
<p><a href="#intro"><strong>retour au debut du document</strong></a></p>
</div>
</section>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
